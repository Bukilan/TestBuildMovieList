(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(75)},45:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(4),i=a.n(r),l=a(5),c=a(27),s=a(28),u=a(35),p=a(29),m=a(34),d=a(3);a(45);function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"movie/popular",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(r){return console.log("https://api.themoviedb.org/3/"+t+"?api_key=56d793d6cea47e6ab2101f3386c7b8b6&language=en-US"+a+"&page="+e.toString()+o),fetch("https://api.themoviedb.org/3/"+t+"?api_key=56d793d6cea47e6ab2101f3386c7b8b6&language=en-US"+a+"&page="+e.toString()+o,{method:"GET"}).then(function(e){return e.json()}).then(function(e){console.log(e);var i=[],l=1;for(var c=function(){return l++},s=0;s<e.results.length;s++){var u="https://image.tmdb.org/t/p/w500"+e.results[s].poster_path;i.push({key:{i:s},number:c(),poster:n.a.createElement("img",{className:"elem_poster",src:u,alt:"new"}),title:e.results[s].original_title,year:new Date(Date.parse(e.results[s].release_date)).toDateString(),description:e.results[s].overview})}console.log("fetch data here"),console.log(i);var p="";"&primary_release_year"===o.split("=")[0]&&(p=o.split("=")[1],console.log(p[1])),"&with_genres"===o.split("=")[0]&&(p=o.split("=")[1],console.log(p));var m=t,d=a.split("=")[1];r({type:"ITEMS_FETCH_DATA_SUCCESS",payload:i,payload_method:m,payload_query:d,payload_year:p})})}}var h=a(18),f=a(19),g=a.n(f),b="",y="",w={control:function(e,t){return Object(d.a)({},e,{background:"#000",borderRadius:t.isFocused?"3px 3px 0 0":3,borderColor:"white",boxShadow:(t.isFocused,null),"&:hover":{borderColor:"cyan"}})},menu:function(e){return Object(d.a)({},e,{borderRadius:0,marginTop:0})},menuList:function(e){return Object(d.a)({},e,{padding:0})},option:function(e){return{background:"#000",textAlign:"left",padding:"10px"}}},_=[{value:"28",label:"Action"},{value:"12",label:"Adventure"},{value:"16",label:"Animation"},{value:"35",label:"Comedy"},{value:"80",label:"Crime"},{value:"99",label:"Documentary"},{value:"18",label:"Drama"},{value:"10751",label:"Family"},{value:"14",label:"Fantasy"},{value:"36",label:"History"},{value:"27",label:"Horror"},{value:"10402",label:"Music"},{value:"9648",label:"Mystery"},{value:"10749",label:"Romance"},{value:"878",label:"Science Fiction"},{value:"10770",label:"TV Movie"},{value:"53",label:"Thriller"},{value:"10752",label:"War"},{value:"37",label:"Western"}],E={control:function(e,t){return Object(d.a)({},e,{background:"#000",borderRadius:t.isFocused?"3px 3px 0 0":3,borderColor:"white",boxShadow:(t.isFocused,null),color:"white","&:hover":{borderColor:"cyan"}})},menu:function(e){return Object(d.a)({},e,{borderRadius:0,marginTop:0})},menuList:function(e){return Object(d.a)({},e,{padding:0})},option:function(e){return{background:"#000",color:"white",textAlign:"left",padding:"10px"}},singleValue:function(e){return{fontSize:14,color:"white"}}},k=[{value:"popular",label:"Popular"},{value:"top_rated",label:"Top Rated"},{value:"upcoming",label:"Upcoming"},{value:"now_playing",label:"Now Playing"}],M=Object(l.b)(function(e){return{state:e}},function(e){return{fetchMovie:function(t,a,o,n){return e(v(t,a,o,n))}}})(function(e){return n.a.createElement("tr",{className:"header"},n.a.createElement("th",null,n.a.createElement("h1",{className:"header-name"},"Movie list")),n.a.createElement("th",{width:"40"}),n.a.createElement("th",null,n.a.createElement("h3",{className:"header-home",onClick:function(){e.fetchMovie(1),window.location.reload()}},"HOME")),n.a.createElement("th",{width:"100"}),n.a.createElement("th",null,n.a.createElement(h.a,{ref:function(e){y=e},className:"genre-form",closeMenuOnSelect:!1,components:g()(),isMulti:!0,options:_,styles:w})),n.a.createElement("th",{width:"10"}),n.a.createElement("th",null,n.a.createElement("button",{onClick:function(){var t;null!==y.state.value&&0!==y.state.value.length?(y.state.value.forEach(function(e){t=t+e.value+"%2C"}),t="&with_genres="+(t=t.split("undefined")[1].slice(0,-3)),console.log(t),e.fetchMovie(1,"discover/movie","&sort_by=popularity.desc&include_adult=false&include_video=false",t)):alert("please, choose genre")},className:"genre-button"},"Submit")),n.a.createElement("th",{width:"120"}),n.a.createElement("th",null,n.a.createElement(h.a,{ref:function(e){b=e},className:"sel-form",closeMenuOnSelect:!0,autoFocus:!0,components:g()(),options:k,styles:E,defaultValue:k[0]})),n.a.createElement("th",{width:"10"}),n.a.createElement("th",null,n.a.createElement("button",{onClick:function(){switch(b.state.value.value){case"popular":e.fetchMovie(1);break;case"top_rated":e.fetchMovie(1,"movie/top_rated");break;case"upcoming":e.fetchMovie(1,"movie/upcoming");break;case"now_playing":e.fetchMovie(1,"movie/now_playing")}},className:"select-button"},"Submit")),n.a.createElement("th",{width:"90"}),n.a.createElement("th",null,n.a.createElement("input",{className:"header-input-year",type:"text",name:"txt",placeholder:"Enter search year",onChange:function(t){!function(t){if(4===t.length){var a="&primary_release_year="+t.toString();e.fetchMovie(1,"discover/movie","&sort_by=popularity.desc&include_adult=false&include_video=false",a)}}(t.target.value)}})),n.a.createElement("th",{width:"150"}),n.a.createElement("th",null,n.a.createElement("input",{className:"header-input",type:"text",name:"txt",placeholder:"Enter search term",onChange:function(t){!function(t){if(""!==t){var a="&query="+t.toString();e.fetchMovie(1,"search/movie",a)}else e.fetchMovie(1)}(t.target.value)}})))}),S=(a(72),function(){return n.a.createElement("div",{className:"no-data-container"},n.a.createElement("img",{src:"https://ui-ex.com/images/transparent-gif-loading-1.gif",alt:"Sorry, here is an error",width:"128",height:"128"}))}),C=(a(73),Object(l.b)(function(e){return{method:e.method,query:e.query,state:e}},function(e){return{fetchMovie:function(t,a,o){return e(v(t,a,o))}}})(function(e){return n.a.createElement("p",{onClick:function(){e.fetchMovie(1)},className:"close"})})),N=(a(74),1),O=1,j=1,x=1,q=1,T=1,A=1,F="",D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).handleClickPlus=function(){switch(a.props.state.items.method){case"movie/popular":N++,a.props.fetchMovie(N);break;case"search/movie":F!==a.props.state.items.query.toString()&&(O=1),O++;var e="&query="+a.props.state.items.query.toString();a.props.fetchMovie(O,"search/movie",e),F=a.props.state.items.query.toString();break;case"movie/top_rated":j++,a.props.fetchMovie(j,"movie/top_rated");break;case"movie/upcoming":x++,a.props.fetchMovie(x,"movie/upcoming");break;case"movie/now_playing":q++,a.props.fetchMovie(q,"movie/now_playing");break;case"discover/movie":if(4===a.props.state.items.year.length){T++;var t="&primary_release_year="+a.props.state.items.year.toString();a.props.fetchMovie(T,"discover/movie","&sort_by=popularity.desc&include_adult=false&include_video=false",t);break}A++;var o="&with_genres="+a.props.state.items.year;console.log(o),a.props.fetchMovie(A,"discover/movie","&sort_by=popularity.desc&include_adult=false&include_video=false",o)}},a.handleClickMin=function(){switch(a.props.state.items.method){case"movie/popular":N>=2&&N--,a.props.fetchMovie(N);break;case"search/movie":O>=2&&O--,a.props.fetchMovie(O);var e="&query="+a.props.state.items.query.toString();a.props.fetchMovie(O,"search/movie",e),F=a.props.state.items.query.toString();break;case"movie/top_rated":j>=2&&j--,a.props.fetchMovie(j,"movie/top_rated");break;case"movie/upcoming":x>=2&&x--,a.props.fetchMovie(x,"movie/upcoming");break;case"movie/now_playing":q>=2&&q--,a.props.fetchMovie(q,"movie/now_playing");break;case"discover/movie":if(4===a.props.state.items.year.length){T>=2&&T--;var t="&primary_release_year="+a.props.state.items.year.toString();a.props.fetchMovie(T,"discover/movie","&sort_by=popularity.desc&include_adult=false&include_video=false",t);break}A>=2&&A--;var o="&with_genres="+a.props.state.items.year.toString();a.props.fetchMovie(A,"discover/movie","&sort_by=popularity.desc&include_adult=false&include_video=false",o)}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchMovie()}},{key:"render",value:function(){return 0===this.props.state.items.list.length?n.a.createElement("div",null,n.a.createElement(C,null),n.a.createElement(S,null)):n.a.createElement("div",null,n.a.createElement(M,null),n.a.createElement("div",{className:"arrows"},n.a.createElement("span",{onClick:this.handleClickMin,className:"arrow arrow-left"}),n.a.createElement("span",{onClick:this.handleClickPlus,className:"arrow arrow-right"})),n.a.createElement("table",{className:"data_table"},n.a.createElement("tbody",null,this.props.state.items.list.map(function(e){return n.a.createElement("tr",{className:"rt-table"},n.a.createElement("td",{className:"row_poster"},e.poster),n.a.createElement("td",{className:"row_title"},n.a.createElement("h2",{className:"elem_title"},e.title)),n.a.createElement("td",{className:"row_year"},n.a.createElement("h3",{className:"elem_year"},e.year)),n.a.createElement("td",{className:"row_description"},n.a.createElement("p",{className:"elem_description"},e.description)))}))))}}]),t}(n.a.Component),R=Object(l.b)(function(e){return{method:e.method,query:e.query,year:e.year,state:e}},function(e){return{fetchMovie:function(t,a,o,n){return e(v(t,a,o,n))}}})(D),W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var U=a(6),H={list:[],method:"movie/popular",query:"",year:"",genre:""};var B=Object(U.c)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS_FETCH_DATA_SUCCESS":return Object(d.a)({},e,{list:t.payload,method:t.payload_method,query:t.payload_query,year:t.payload_year,genre:t.payload_genre});default:return e}}}),P=a(31),I=a(32),V=a.n(I),J=Object(U.d)(B,Object(U.a)(P.a,V.a));i.a.render(n.a.createElement(l.a,{store:J},n.a.createElement(R,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/TestBuildMovieList",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/TestBuildMovieList","/service-worker.js");W?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):L(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):L(e)})}}()}},[[36,1,2]]]);
//# sourceMappingURL=main.b1dedb09.chunk.js.map